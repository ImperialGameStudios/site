import{r as p,a as y,u as x,M as g,j as u}from"./three-CECWILcm.js";const M=r=>Array.isArray(r)?r:[r.x,r.y,r.z],v=r=>Array.isArray(r)?r:[r.x,r.y,r.z],j=({position:r=[0,0,0],rotation:m=[0,0,0],scale:n=1,animationSpeed:l=1,onError:o})=>{const s=p.useRef(null),i=M(r),f=v(m);y((e,t)=>{if(s.current){s.current.rotation.y+=t*l*.5;const c=i[1];s.current.position.y=c+Math.sin(e.clock.elapsedTime*.5)*.1}});const a=x("/car.glb");return!a||!a.scene?(o&&setTimeout(()=>o(),100),null):(a.scene.userData.processed||(a.scene.traverse(e=>{if(e instanceof g&&(e.castShadow=!0,e.receiveShadow=!0,e.material)){if(e.material.envMapIntensity=2,e.material.color){const t=e.material.color;t.r<.3&&t.g<.3&&t.b<.3&&t.multiplyScalar(1.5)}e.material.metalness!==void 0&&(e.material.metalness=Math.min(e.material.metalness*1.2,1)),e.material.roughness!==void 0&&(e.material.roughness=Math.max(e.material.roughness*.8,.1)),e.material.needsUpdate=!0}}),a.scene.userData.processed=!0),u.jsx("group",{ref:s,position:i,rotation:f,scale:[n,n,n],children:u.jsx("primitive",{object:a.scene,dispose:null})}))};export{j as default};
