import{r,j as e,C as d,R as f}from"./three-CECWILcm.js";import{d as h,g as m}from"./webgl-CfEKQtlZ.js";const x=()=>{const[o,s]=r.useState(0),[n,l]=r.useState(!1);return r.useEffect(()=>{},[]),{fps:o,isLowPerformance:n}};class w extends f.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,n){}render(){return this.state.hasError?this.props.fallback:this.props.children}}const b=()=>e.jsx("div",{className:"w-full h-full bg-transparent"}),i=()=>null,g=({children:o,className:s=""})=>{const[n,l]=r.useState(!0),[a,p]=r.useState(null);x();const c=!1;return r.useEffect(()=>{const t=h();l(t),t&&p(m())},[]),!n||!a?e.jsx("div",{className:`w-full h-full ${s}`,children:e.jsx(b,{})}):e.jsxs("div",{className:`w-full h-full relative ${s}`,children:[e.jsx(d,{className:"canvas-3d",camera:{position:[0,0,5],fov:75,near:.1,far:1e3},gl:{antialias:a.antialias,alpha:!0,premultipliedAlpha:!1,powerPreference:"high-performance",toneMapping:1,toneMappingExposure:1.5,outputColorSpace:"srgb"},dpr:[1,a.pixelRatio],performance:{min:.3},shadows:a.shadows,onCreated:({gl:t})=>{a.shadows&&(t.shadowMap.enabled=!0,t.shadowMap.type=2),t.setClearColor(0,0),t.domElement.addEventListener("webglcontextlost",u=>{u.preventDefault()}),t.domElement.addEventListener("webglcontextrestored",()=>{})},children:e.jsx(w,{fallback:e.jsx(i,{}),children:e.jsx(r.Suspense,{fallback:e.jsx(i,{}),children:o})})}),c]})};export{g as default};
